<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="Carte interactive du r√©seau TWISTO - Transport en commun de Caen et environs" />
  <title>Carte Interactive TWISTO - Guillaume Lemonnier</title>
  <link rel="stylesheet" href="../css/style.css" />
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
  <header>
    <div class="container">
      <nav role="navigation" aria-label="Navigation principale">
        <a href="../../index.html">Accueil</a>
        <a href="projets.html">Projets</a>
        <a href="cv.html">CV</a>
        <a href="associatif.html">Associatif</a>
        <a href="contact.html">Contact</a>
      </nav>
    </div>
  </header>

  <main>
    <section class="hero">
      <div class="container">
        <h1>üöå Carte Interactive TWISTO</h1>
        <p>Explorez le r√©seau de transport en commun<br>de Caen et ses environs</p>
      </div>
    </section>

    <!-- Bouton de navigation -->
    <section class="section">
      <div class="container">
        <div class="nav-controls">
          <a href="projets.html" class="btn-back">‚Üê Retour aux projets</a>
          <a href="#info-section" class="btn-info"> Infos</a>
        </div>
      </div>
    </section>

    <!-- Panneau de contr√¥les et recherche -->
    <section class="section">
      <div class="container">
        <div class="carte-controls">
          <div class="search-panel">
            <div class="search-section">
              <h3>üîç Rechercher un arr√™t</h3>
              <div class="search-container">
                <input type="text" id="search-input" placeholder="Tapez le nom d'un arr√™t..." />
                <button id="search-btn" class="btn-primary">Rechercher</button>
                <button id="clear-search" class="btn-secondary">Effacer</button>
              </div>
              <div id="search-results" class="search-results"></div>
            </div>

            <div class="filter-section">
              <h3>üéõÔ∏è Contr√¥les de la carte</h3>
              <div class="controls-grid">
                <button id="toggle-style" class="control-btn">‚òÄÔ∏è Style: Clair</button>
                <button id="fit-bounds" class="control-btn">üìç Voir Tout</button>
                <button id="center-map" class="control-btn">üéØ Centrer</button>
                <button id="fullscreen" class="control-btn">‚õ∂ Plein √©cran</button>
              </div>
            </div>

            <div class="stats-section">
              <h3>üìä Statistiques</h3>
              <div class="stats-grid">
                <div class="stat-item">
                  <span class="stat-number" id="total-stops">2093</span>
                  <span class="stat-label">Arr√™ts total</span>
                </div>
                <div class="stat-item">
                  <span class="stat-number" id="visible-stops">500</span>
                  <span class="stat-label">Affich√©s</span>
                </div>
                <div class="stat-item">
                  <span class="stat-number">Caen</span>
                  <span class="stat-label">Zone</span>
                </div>
              </div>
            </div>
          </div>

          <div class="map-section">
            <div class="map-header">
              <h2>üó∫Ô∏è R√©seau de Transport TWISTO</h2>
              <p>Cliquez sur les marqueurs pour plus d'informations</p>
            </div>
            <div id="twisto-map" class="interactive-map"></div>
          </div>
        </div>
      </div>
    </section>

    <!-- Section informations -->
    <section class="section bg-light" id="info-section">
      <div class="container">
        <div class="info-grid">
          <div class="info-card">
            <h3>üéØ √Ä propos du projet</h3>
            <p>Cette carte interactive pr√©sente l'ensemble du r√©seau de transport en commun TWISTO de Caen. 
            D√©velopp√©e avec Python pour l'analyse des donn√©es GTFS et Leaflet.js pour la visualisation web, 
            elle permet d'explorer facilement les 2093 arr√™ts du r√©seau.</p>
          </div>

          <div class="info-card">
            <h3>üõ†Ô∏è Technologies utilis√©es</h3>
            <ul>
              <li><strong>Python:</strong> Analyse des donn√©es GTFS avec Pandas</li>
              <li><strong>Folium:</strong> G√©n√©ration des cartes interactives</li>
              <li><strong>Leaflet.js:</strong> Affichage web optimis√©</li>
              <li><strong>JavaScript ES6+:</strong> Interactivit√© avanc√©e</li>
            </ul>
          </div>

          <div class="info-card">
            <h3>üìà Fonctionnalit√©s</h3>
            <ul>
              <li>üîç Recherche d'arr√™ts en temps r√©el</li>
              <li>üó∫Ô∏è 2 styles de carte diff√©rents</li>
              <li> Popups informatifs d√©taill√©s</li>
              <li>üì± Interface responsive</li>
              <li>‚õ∂ Mode plein √©cran</li>
            </ul>
          </div>
        </div>
    </div>
    <p><em>Donn√©es mises √† jour en juillet 2025 - Twisto - <a href="https://www.data.gouv.fr/datasets/caen-la-mer-reseau-twisto-gtfs-siri-1/" target="_blank">data.gouv.fr</a></em></p>
</section>
  </main>

  <footer>
    <div class="container">
      <p>&copy; 2025 Guillaume Lemonnier - Tous droits r√©serv√©s</p>
      <p style="font-size: 0.9rem; margin-top: 10px;">
        Ce code est prot√©g√© par licence. Toute utilisation n√©cessite l'attribution √† l'auteur. 
        <a href="../../LICENSE" style="color: var(--secondary-color);">Voir la licence</a>
      </p>
    </div>
  </footer>

  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
  <script src="../js/script.js"></script>
  <script src="../js/carte-twisto.js"></script>

  <style>
    /* Styles sp√©cifiques √† la page carte */
    .nav-controls {
      display: flex;
      gap: 1rem;
      justify-content: center;
      align-items: center;
      margin-bottom: 20px;
    }

    .btn-back, .btn-info {
      background: var(--primary-color);
      color: white;
      text-decoration: none;
      padding: 0.8rem 1.5rem;
      border-radius: 8px;
      font-weight: 500;
      transition: var(--transition);
      border: none;
      cursor: pointer;
      display: inline-block;
    }

    .btn-back:hover, .btn-info:hover {
      background: var(--secondary-color);
      transform: translateY(-2px);
      color: white;
    }

    .btn-info {
      background: #6c757d;
    }

    .btn-info:hover {
      background: #5a6268;
    }

    .carte-controls {
      display: grid;
      grid-template-columns: 350px 1fr;
      gap: 30px;
      margin-top: 30px;
    }

    .search-panel {
      background: var(--bg-light);
      padding: 25px;
      border-radius: 15px;
      box-shadow: var(--shadow-light);
      height: fit-content;
      position: sticky;
      top: 20px;
    }

    .search-section, .filter-section, .stats-section {
      margin-bottom: 30px;
    }

    .search-section h3, .filter-section h3, .stats-section h3 {
      color: var(--primary-color);
      margin-bottom: 15px;
      font-size: 1.1rem;
    }

    .search-container {
      display: flex;
      flex-direction: column;
      gap: 10px;
    }

    #search-input {
      padding: 12px 15px;
      border: 2px solid var(--border-color);
      border-radius: 8px;
      font-size: 14px;
      transition: var(--transition);
    }

    #search-input:focus {
      outline: none;
      border-color: var(--primary-color);
    }

    .btn-primary, .btn-secondary {
      padding: 10px 15px;
      border: none;
      border-radius: 6px;
      font-weight: 500;
      cursor: pointer;
      transition: var(--transition);
    }

    .btn-primary {
      background: var(--primary-color);
      color: white;
    }

    .btn-primary:hover {
      background: var(--secondary-color);
    }

    .btn-secondary {
      background: var(--border-color);
      color: var(--text-dark);
    }

    .btn-secondary:hover {
      background: var(--text-light);
    }

    .search-results {
      max-height: 200px;
      overflow-y: auto;
      margin-top: 10px;
    }

    .search-result-item {
      padding: 8px 12px;
      background: white;
      border: 1px solid var(--border-color);
      border-radius: 6px;
      margin-bottom: 5px;
      cursor: pointer;
      transition: var(--transition);
    }

    .search-result-item:hover {
      background: var(--bg-section);
      border-color: var(--primary-color);
    }

    .controls-grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 10px;
    }

    .control-btn {
      padding: 10px 12px;
      background: white;
      border: 2px solid var(--border-color);
      border-radius: 8px;
      font-size: 13px;
      cursor: pointer;
      transition: var(--transition);
      text-align: center;
    }

    .control-btn:hover {
      border-color: var(--primary-color);
      background: var(--bg-section);
      transform: translateY(-2px);
    }

    .control-btn.active {
      background: var(--primary-color);
      color: white;
      border-color: var(--primary-color);
    }

    .control-btn:active {
      transform: translateY(0);
    }

    .stats-grid {
      display: grid;
      grid-template-columns: 1fr 1fr 1fr;
      gap: 15px;
    }

    .stat-item {
      text-align: center;
      padding: 15px;
      background: white;
      border-radius: 10px;
      border: 1px solid var(--border-color);
    }

    .stat-number {
      display: block;
      font-size: 1.5rem;
      font-weight: 700;
      color: var(--primary-color);
    }

    .stat-label {
      font-size: 0.9rem;
      color: var(--text-light);
    }

    .map-section {
      background: var(--bg-light);
      border-radius: 15px;
      overflow: hidden;
      box-shadow: var(--shadow-light);
    }

    .map-header {
      background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
      color: white;
      padding: 20px 25px;
    }

    .map-header h2 {
      margin: 0 0 5px 0;
      font-size: 1.4rem;
      color: white;
    }

    .map-header p {
      margin: 0;
      opacity: 0.9;
      font-size: 0.9rem;
      color: white;
    }

    .interactive-map {
      height: 600px;
      width: 100%;
    }

    .info-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 25px;
      margin-top: 30px;
    }

    .info-card {
      background: white;
      padding: 25px;
      border-radius: 12px;
      box-shadow: var(--shadow-light);
    }

    .info-card h3 {
      color: var(--primary-color);
      margin-bottom: 15px;
    }

    .info-card ul {
      list-style: none;
      padding: 0;
    }

    .info-card li {
      padding: 5px 0;
      border-bottom: 1px solid var(--border-color);
    }

    .info-card li:last-child {
      border-bottom: none;
    }

    /* Responsive */
    @media (max-width: 1024px) {
      .carte-controls {
        grid-template-columns: 1fr;
        gap: 20px;
      }

      .search-panel {
        position: static;
      }

      .interactive-map {
        height: 500px;
      }
    }

    @media (max-width: 768px) {
      .controls-grid {
        grid-template-columns: 1fr;
      }

      .stats-grid {
        grid-template-columns: 1fr;
      }

      .interactive-map {
        height: 400px;
      }

      .info-grid {
        grid-template-columns: 1fr;
      }
    }
  </style>
</body>
</html>
